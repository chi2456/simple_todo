<script>
    const taskInput = document.getElementById('taskInput');
    const addButton = document.getElementById('addButton');
    const taskList = document.getElementById('taskList');

    // 「追加」ボタンがクリックされたとき
    addButton.addEventListener('click', function () {
        const taskText = taskInput.value.trim();
        if (taskText !== "") {
            addTask(taskText);
            taskInput.value = "";
            taskInput.focus();
        } else {
            alert("タスクを入力してください。");
        }
    });

    // Enterキーでも追加
    taskInput.addEventListener('keypress', function (event) {
        if (event.key === 'Enter') {
            addButton.click();
        }
    });

    // タスクを追加する関数
    function addTask(text) {
        const listItem = document.createElement('li');

        // タスクのテキスト部分（完了トグル用）
        const textSpan = document.createElement('span');
        textSpan.textContent = text;
        textSpan.className = 'task-text';

        // ✅ テキストをクリックしたときだけ完了トグル
        textSpan.addEventListener('click', function () {
            textSpan.classList.toggle('completed');
        });

        // 削除ボタン
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = "削除";
        deleteBtn.className = 'delete-button';
        deleteBtn.addEventListener('click', function () {
            listItem.remove();
        });

        // タスクをリストに追加
        listItem.appendChild(textSpan);
        listItem.appendChild(deleteBtn);
        taskList.appendChild(listItem);
    }
</script>
